## 建造者模式 Builder Pattern

### 定义

将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。

建造者模式是一种对象创建型模式。

将客户端与包含多个组成部分的复杂对象的创建过程分离，客户端无须知道复杂对象的内部组成和装配方式，只需知道所需建造者的类型。

### 角色

1.Builder:抽象建造者，为创建产品对象的各个部件指定抽象接口，声明buildPartX()用于创建复杂对象的各个部件，同时声明getResult()返回复杂对象。

2.ConcreteBuilder:具体建造者，实现各个部件的具体构造和装配方法，定义且明确创建的复杂对象，并可以返回创建好的复杂对象。

3.Product:被构建的复杂对象，具体建造者创建其内部表示并定义其装配过程。

4.Director:指挥者类，负责安排复杂对象的部件建造次序，与Builder之间存在关联，可以在其construct()方法中调用Builder的部件构造和装配方法，完成复杂对象的建造。

客户端一般与指挥者类进行交互。


### 复杂对象

复杂对象是指那些包含多个成员属性（部件/零件）的对象。

### 钩子方法 HookMethod

返回类型通常为boolean类型，方法名一般为isXXX(),用于判断是否需要调用buildPartX()方法。

### 优点

1.产品本身与创建过程解耦，使得相同的创建过程可以创建不同的产品对象。

2.具体建造者相互独立，可以方便替换和增加具体建造者，用户使用不同的具体建造者可以得到不同的产品对象。

Director针对Builder编程，系统扩展性好，符合“开闭原则”。

3.将复杂产品的创建步骤分解在不同方法中，可以更加精细控制产品的创建过程。

### 缺点

1.产品很多组成部分不同时，不适合用建造者模式。

2.产品内部变化复杂时，需要定义很多具体建造者类，导致系统庞大，增加系统的理解难度和运行成本。

### 适用场景

1.需要生成的产品对象包含多个成员属性。

2.需要生成的产品对象的属性相互依赖，需要指定生成顺序。

3.对象的创建过程独立于创建该对象的类。

对象的创建过程在Director类中，创建对象的类是Builder类。

4.隔离复杂对象的创建和使用，使得相同的创建过程可以创建不同的产品。